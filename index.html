<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Psychic Game</title>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>

<body>
    <div class="wrapper">
        <div class="col-md-3">
        </div>
        <div class="col-md-6 text-center">
            <header>
                <h1>Psychic Game (Olumide Farinmade)</h1>
            </header>
            <div class="whattodo">
                <h3>Try to guess the letter the computer has picked. Any letter from A - Z</h3>
                <br>
                <input id="form"></input>
                <br>
                <button id> Submit Ok</button>

                <h2>Are you Psychic?</h2>
            </div>
            <div id="psychic">
                <ul class="list-group">
                    <li class="list-group-item">
                        <p id="winnings">Wins: </p>
                    </li>
                    <li class="list-group-item">
                        <p id="losed">Losses: </p>
                    </li>
                    <li class="list-group-item">
                        <p id="guessesLefts">Guesses Left: </p>
                    </li>
                    <li class="list-group-item">
                        <p id="lettersGuessed">Your guesses so far: </p>
                    </li>
                </ul>
            </div>

            <script type="text/javascript">
                var choices = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
                var winnings = 0;
                var losed = 0;
                var guesses = 9;
                var guessesLeft = 9;
                var guessedLetters = [];
                var letToGuessing = null;
                var pcGuess = choices[Math.floor(Math.random() * choices.length)];
                var updatingGuesses = function () {
                    document.querySelector('#guessesLefts').innerHTML = "Guesses left: " + guessesLeft;
                };
                var updatingToGuess = function () {
                    this.letToGuessing = this.choices[Math.floor(Math.random() * this.choices.length)];
                };
                var soFar = function () {
                    document.querySelector('#lettersGuessed').innerHTML = "Your Guesses so far: " + guessedLetters.join(', ');
                };
                var back2Normal = function () {
                    totalGuesses = 9;
                    guessesLeft = 9;
                    guessedLetters = [];
                    updatingToGuess();
                    updatingGuesses();
                    soFar();
                }
                updatingToGuess();
                updatingGuesses();
                document.onkeyup = function (event) {
                    guessesLeft--;
                    var whatAreYouGuessing = String.fromCharCode(event.keyCode).toLowerCase();
                    guessedLetters.push(whatAreYouGuessing);
                    updatingGuesses();
                    soFar();
                    if (guessesLeft > 0) {
                        if (whatAreYouGuessing == letToGuessing) {
                            winnings++;
                            document.querySelector('#winnings').innerHTML = "Wins: " + winnings;
                            alert("Yes, you are psychic!");
                            back2Normal();
                        }
                    } else if (guessesLeft == 0) {
                        losed++;
                        document.querySelector('#losed').innerHTML = "Losses: " + losed;
                        alert("Sorry, you're not psychic, maybe try again?");
                        back2Normal();
                    }
                };
                
            </script>
</body>

</html>